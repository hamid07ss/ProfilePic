<?php/** * Created by PhpStorm. * User: M.Azadi <mohammad.azadi@yahoo.com> * Date: 3/15/2017 * Time: 9:28 AM */$address = 'photos/file_14.jpg';$parts = 3;$width  = 579;$height = 577;$canvas = imagecreatefromjpeg( $address );imagesetthickness( $canvas, 2 );// parallel line, solidfor ( $i = 0; $i < $parts; $i ++ ) {	imageline( $canvas,		0, ( $height / $parts ) * ( $i + 1 ),		$width, ( $height / $parts ) * ( $i + 1 ),		imagecolorallocate( $canvas, 6, 76, 136 ) ) or die( 'Kunne ikke velge line!' );	$text = $i + 1;	$font = '../editor/fonts/ttf/BKhodkar.ttf';	$white = imagecolorallocate( $canvas, 6, 76, 136 );// Print Text On Image//	imagettftext( $canvas, 50, 0, 60, ( $height / $parts ) * ( $i + 1 ) - ( ( $height / $parts ) / 2 ), $white, $font, $text );	$white = imagecolorallocate($canvas, 6, 76, 136);	$bbox = imageftbbox(10, 0, $font, $text);// This is our cordinates for X and Y	$x = $bbox[0] + (imagesx($canvas) / 2) - ($bbox[4] / 2) - 5;	$y = $bbox[1] + (imagesy($canvas) / 2) - ($bbox[5] / 2) - 5;	imagefttext($canvas, 50, 0, 60, ( $height / $parts ) * ( $i + 1 ) - ( ( $height / $parts ) / 2 ), $white, $font, $text);//	require_once 'ar-php-master/I18N/Arabic/Examples/Glyphs_GD.php';}$parts = 2;$font  = '../editor/fonts/ttf/BKhodkar.ttf';$text = getPersian('اسم');/*$textBox = imagettfbbox( 40, 0, $font, $text );$row_w = (( $width / 2 ) * ( 1 - 1 ));$row_h = (( $height / 2 ) * ( 1 - 1 ));$x = (($width / 2) - (abs($textBox[4]) - (abs($textBox[6]) * 2))) / 2;$y = (( $height / 3 ) - (abs($textBox[7]) - abs($textBox[1]) * 2)) / 2;*/$textBox = imagettfbbox( 40, 0, $font, $text );$row_w = (( $width / 2 ) * ( 1 - 1 ));$row_h = (( $height / 3 ) * ( 1 - 1 ));$x = (($width / 2) - (abs($textBox[4]) - (abs($textBox[6]) * 2))) / 2;$y = (( $height / 3 ) - (abs($textBox[7]) - (abs($textBox[1]) * 2))) / 2;print_r( [	'$row_w' => $row_w,	'$row_h' => $row_h] );echo $x ."=>". $y . "=>";print_r( $textBox );$white = imagecolorallocate( $canvas, 6, 76, 136 );imagettftext($canvas, 40, 0, $x + $row_w, $y + $row_h, $white, $font, $text);function getPersian( $text ) {	require_once "ar-php-master/I18N/Arabic.php";	$Arabic = new I18N_Arabic( 'Glyphs' );	$text   = $Arabic->utf8Glyphs( $text );	return $text;}$texts = [ 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J' ];for ( $i = 0; $i < $parts; $i ++ ) {	imageline( $canvas,		( $width / $parts ) * ( $i + 1 ), 0,		( $width / $parts ) * ( $i + 1 ), $height,		imagecolorallocate( $canvas, 6, 76, 136 ) ) or die( 'Kunne ikke velge line!' );	$text = $texts[ $i ];	$font = 'arial.ttf';	$white = imagecolorallocate( $canvas, 6, 76, 136 );// Print Text On Image	imagettftext( $canvas, 50, 0, ( $width / $parts ) * ( $i + 1 ) - ( ( $width / $parts ) / 2 ), 90, $white, $font, $text );}$img = imagepng( $canvas, 'dashes.png' );imagedestroy( $canvas );echo '<img src="http://78.47.129.34/test/dashes.png?t=' . strtotime( date( "Y-m-d H:i:s",			mktime( 0, 0, 0 )		) ) .'" />';